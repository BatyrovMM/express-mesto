{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","utils/Api.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/constants.js","components/App.js","serviceWorker.js","index.js","images/mesto__logo.svg"],"names":["Header","className","src","mesto__logo","alt","CurrentUserContext","React","createContext","Card","_id","name","likes","link","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","onClick","type","length","Main","cardSection","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","card","key","Api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_response","userName","userAbout","method","body","JSON","stringify","userAvatar","cardName","cardLink","cardId","Footer","PopupWithForm","title","nameClass","nameButton","isOpen","onClose","onSubmit","children","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","id","placeholder","minLength","maxLength","autoComplete","value","onChange","target","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onUpdateCard","setCardName","setCardLink","ImagePopup","arr","console","log","Math","floor","random","App","api","authorization","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","cards","setCards","closeAllPopups","all","getUserInfo","getInitialCards","user","data","catch","err","Provider","item","removeLike","addLike","newCard","newCards","deleteCard","filter","sendUserInfo","postNewCard","sendUserAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.6c14e5b4.chunk.js","sourcesContent":["import React from 'react';\r\nimport mesto__logo from '../images/mesto__logo.svg'\r\n\r\nfunction Header() {\r\n  return (\r\n  <>\r\n    <header className=\"header\">\r\n      <img src={mesto__logo} alt=\"логотип `Место`\" className=\"header__logo\"/>\r\n    </header>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction Card({_id, name, likes, link, owner, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `${isOwn ? 'card__delete' : 'card__delete_hide'}`\r\n  );\r\n\r\n  const isLiked = likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_active' : ''}`;\r\n\r\n  function handleClick() {\r\n    onCardClick({name, link})\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike({_id, likes})\r\n  }\r\n  \r\n  function handleDeleteClick() {\r\n    onCardDelete({_id})\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <div className=\"card\">\r\n      <img className=\"card__photo\" alt={name} src={link} onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" />\r\n      <div className=\"card__photo-description\">\r\n        <p className=\"card__photo-name\">{name}</p>\r\n        <div className=\"card__like-box\">\r\n        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} />\r\n        <p className=\"card__like-count\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction Main({cardSection, onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n  <>\r\n  <main className=\"content\">\r\n  <section className=\"profile\">\r\n    <div className=\"profile__avatar-box\">\r\n      <img alt=\"аватар профиля\" src={currentUser.avatar} className=\"profile__avatar\"/>\r\n      <button className=\"profile__avatar-edit\" type=\"button\" onClick={onEditAvatar} />\r\n    </div>\r\n    <div className=\"profile__info\">\r\n      <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n      <button className=\"profile__edit\" type=\"button\" onClick={onEditProfile} />\r\n      <p className=\"profile__status\">{currentUser.about}</p>\r\n    </div>\r\n      <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace} />\r\n  </section>\r\n  <section className=\"cards\">\r\n    {\r\n      cardSection.map(card => <Card key={card._id} {...card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)\r\n    }\r\n  </section>\r\n  </main>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Main;","class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  _response(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`error${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers,\r\n    })\r\n    .then(this._response);\r\n  }\r\n\r\n  sendUserInfo(userName, userAbout) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userAbout\r\n      })\r\n    })\r\n    .then(this._response);\r\n  }\r\n\r\n  sendUserAvatar(userAvatar) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: userAvatar\r\n      })\r\n    })\r\n    .then(this._response);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this.headers,\r\n    })\r\n    .then(this._response);\r\n  }\r\n\r\n  postNewCard(cardName, cardLink) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: cardName,\r\n        link: cardLink\r\n      })\r\n    })\r\n    .then(this._response);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n    .then(this._response);\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n    })\r\n    .then(this._response);\r\n  }\r\n  \r\n  removeLike(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    })\r\n    .then(this._response);\r\n  }\r\n}\r\n\r\nexport default Api","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n  <>\r\n  <footer className=\"footer\">\r\n    <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n  </footer>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm({title, nameClass, nameButton, isOpen, onClose, onSubmit, children}) {\r\n  return (\r\n    <>\r\n    <div className={`popup ${isOpen ? 'popup_active' : ''} popup_${nameClass}`}>\r\n      <div className=\"popup__window\">\r\n        <h2 className=\"popup__redact\">{title}</h2>\r\n        <form className=\"popup__form\" noValidate onSubmit={onSubmit}>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__form-button\">{nameButton}</button>\r\n        </form>\r\n        <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    \r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <PopupWithForm \r\n    nameClass=\"edit\"\r\n    title=\"Редактировать профиль\"\r\n    nameButton=\"Сохранить\"\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input \r\n          className=\"popup__input popup__input_name-change\" \r\n          id=\"input-name-change\" \r\n          name=\"name\" \r\n          placeholder=\"Имя\" \r\n          type=\"text\" \r\n          minLength=\"2\" \r\n          maxLength=\"40\"  \r\n          autoComplete=\"off\"\r\n          value={name || ''}\r\n          onChange={handleChangeName}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"input-name-change-error\" />\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input \r\n          className=\"popup__input popup__input_status-change\" \r\n          id=\"input-status-change\" \r\n          name=\"status\" \r\n          placeholder=\"О себе\" \r\n          type=\"text\" \r\n          minLength=\"2\" \r\n          maxLength=\"200\" \r\n          autoComplete=\"off\"\r\n          value={description || ''}\r\n          onChange={handleChangeDescription}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"input-status-change-error\" />\r\n      </label>\r\n    </PopupWithForm>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = React.useRef()\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n  \r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <PopupWithForm \r\n      nameClass=\"new-avatar\" \r\n      title=\"Обновить аватар\" \r\n      nameButton=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input \r\n          className=\"popup__input popup__input_new-avatar-url\" \r\n          id=\"input-avatar-url\" \r\n          name=\"avatar\" \r\n          placeholder=\"Ссылка на картинку\"\r\n          type=\"url\" \r\n          autoComplete=\"off\"\r\n          ref={avatarRef}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"input-avatar-url-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onUpdateCard}) {\r\n  const [cardName, setCardName] = React.useState('');\r\n  const [cardLink, setCardLink] = React.useState('');\r\n\r\n  function handleChangeCardName(event) {\r\n    setCardName(event.target.value);\r\n  }\r\n\r\n  function handleChangeCardLink(event) {\r\n    setCardLink(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    onUpdateCard({\r\n      name: cardName,\r\n      link: cardLink\r\n    })\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <PopupWithForm \r\n      nameClass=\"new-card\"\r\n      title=\"Новое место\"\r\n      nameButton=\"Создать\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n    <label className=\"popup__label\">\r\n        <input \r\n          className=\"popup__input popup__input_new-card-name\" \r\n          id=\"input-card-name\" \r\n          name=\"name\" \r\n          placeholder=\"Название\" \r\n          type=\"text\" \r\n          minLength=\"1\" \r\n          maxLength=\"30\" \r\n          autoComplete=\"off\"\r\n          value={cardName || ''}\r\n          onChange={handleChangeCardName}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"input-card-name-error\" />\r\n        </label>\r\n        <label className=\"popup__label\">\r\n        <input \r\n          className=\"popup__input popup__input_new-card-url\" \r\n          id=\"input-card-url\" \r\n          name=\"link\" \r\n          placeholder=\"Ссылка на картинку\" \r\n          type=\"url\" \r\n          autoComplete=\"off\"\r\n          value={cardLink || ''}\r\n          onChange={handleChangeCardLink}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error\" id=\"input-card-url-error\" />\r\n        </label>\r\n    </PopupWithForm>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n  return (\r\n    <>\r\n    <div className={`popup ${card ? 'popup_active' : ''} popup_lightbox`}>\r\n      <div className=\"popup__lightbox-item\">\r\n        <button className=\"popup__close\" type=\"button\" onClick={onClose} />\r\n          <img className=\"popup__lightbox-image\" alt={`${card?.name}`} src={card?.link}/>\r\n          <p className=\"popup__lightbox-caption\">{card?.name}</p>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup","// Массив первых шести фотокарточек\r\nconst initialCards = [\r\n  {\r\n    name: 'Astronaut',\r\n    link: 'https://images.unsplash.com/photo-1542649761-0bdd3753c8a7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80'\r\n  },\r\n  {\r\n    name: 'Space Shuttle',\r\n    link: 'https://images.unsplash.com/photo-1454789415558-bdda08f4eabb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80'\r\n  },\r\n  {\r\n    name: 'Far From Home',\r\n    link: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80'\r\n  },\r\n  {\r\n    name: 'Outer Space',\r\n    link: 'https://images.unsplash.com/photo-1462332420958-a05d1e002413?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1940&q=80'\r\n  },\r\n  {\r\n    name: 'Outer World',\r\n    link: 'https://images.unsplash.com/photo-1446941611757-91d2c3bd3d45?ixlib=rb-1.2.1&auto=format&fit=crop&w=733&q=80'\r\n  },\r\n  {\r\n    name: 'Outer Life',\r\n    link: 'https://images.unsplash.com/photo-1447433589675-4aaa569f3e05?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\r\n  },\r\n];\r\n\r\n// Почему бы и нет?\r\nfunction randomCard(arr) {\r\n  const index = Math.floor(Math.random() * arr.length);\r\n  return arr[index];\r\n}\r\n\r\nconsole.log(`Ссылка для создания классной карточки - ${randomCard(initialCards).link}`);\r\n\r\n\r\n\r\nexport {}","import React from 'react';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Api from '../utils/Api.js';\r\nimport Footer from './Footer.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport {} from '../utils/constants.js'\r\n\r\nfunction App() {\r\n  const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\r\n    headers: {\r\n      authorization: '2c19e651-b945-42b9-b74c-9d75647e0f4e',\r\n      'Content-Type': 'application/json'\r\n    },\r\n  });\r\n\r\n  const [currentUser, setCurrentUser] = React.useState('');\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n  \r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n  \r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    api.sendUserInfo(user.name, user.about)\r\n    .then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(user) {\r\n    api.sendUserAvatar(user.avatar)\r\n    .then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleUpdateCard(card) {\r\n    api.postNewCard(card.name, card.link)\r\n    .then((data) => {\r\n      setCards([...cards, data]);\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleCardLike({likes, _id}) {\r\n    const isLiked = likes.some(item => item._id === currentUser._id);\r\n    (!isLiked ? api.addLike(_id) : api.removeLike(_id))\r\n    .then((newCard) => {\r\n      const newCards = cards.map((card) => card._id === _id ? newCard : card);\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete({_id}) {\r\n    api.deleteCard(_id)\r\n    .then(() => {\r\n      const newCards = cards.filter((card) => card._id !== _id);\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  // Функция загрузки имени и карточек из сервера\r\n  React.useEffect(() => {\r\n  Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n    .then(([user, data]) => {\r\n      setCurrentUser(user);\r\n      setCards(data);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n  <div className=\"page\">\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <Header />\r\n    <Main\r\n      onEditProfile={handleEditProfileClick}\r\n      onAddPlace={handleAddPlaceClick}\r\n      onEditAvatar={handleEditAvatarClick}\r\n      cardSection={cards} \r\n      onCardClick={handleCardClick}\r\n      onCardLike={handleCardLike}\r\n      onCardDelete={handleCardDelete}\r\n    />\r\n    <Footer />\r\n    <EditProfilePopup \r\n      isOpen={isEditProfilePopupOpen} \r\n      onClose={closeAllPopups} \r\n      onUpdateUser={handleUpdateUser} \r\n    />\r\n    <AddPlacePopup \r\n      isOpen={isAddPlacePopupOpen} \r\n      onClose={closeAllPopups} \r\n      onUpdateCard={handleUpdateCard}\r\n    />\r\n    <EditAvatarPopup \r\n      isOpen={isEditAvatarPopupOpen} \r\n      onClose={closeAllPopups} \r\n      onUpdateAvatar={handleUpdateAvatar}\r\n    />\r\n    <ImagePopup \r\n      onClose={closeAllPopups} \r\n      card={selectedCard}\r\n    />\r\n    </CurrentUserContext.Provider>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/mesto__logo.94cbab21.svg\";"],"sourceRoot":""}